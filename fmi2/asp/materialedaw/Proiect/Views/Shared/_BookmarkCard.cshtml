@model BookmarkListItemViewModel

<div class="col">
    <article class="bookmark-card position-relative @(Model.IsPrivate ? "bookmark-card--private" : "")">
        @if (Model.IsPrivate)
        {
            <div class="bookmark-card__private-indicator">
                <i class="bi bi-lock-fill"></i> Private
            </div>
        }
        @if (!string.IsNullOrWhiteSpace(Model.MediaImageUrl))
        {
            <div class="bookmark-card__media">
                <img src="@Model.MediaImageUrl" alt="@Model.Title" loading="lazy" />
            </div>
        }
        <div class="bookmark-card__body">
            <a asp-controller="Bookmarks" asp-action="Details" asp-route-id="@Model.Id" class="bookmark-card__title stretched-link">
                @Model.Title
            </a>
            <p class="bookmark-card__description text-muted">
                @Model.Description
            </p>
            @if (!string.IsNullOrWhiteSpace(Model.MediaTextPreview))
            {
                <p class="bookmark-card__text-preview">
                    @Model.MediaTextPreview
                </p>
            }
        </div>
        <div class="bookmark-card__meta">
            <div>
                <small class="text-muted">By @Model.AuthorName</small>
                <div class="text-muted small">
                    @Model.CreatedAt.ToLocalTime().ToString("dd MMM yyyy")
                </div>
            </div>
            <div class="bookmark-card__stats">
                <button type="button" class="vote-btn"
                        data-bookmark-id="@Model.Id"
                        data-liked="@Model.IsLikedByCurrentUser.ToString().ToLower()">
                    <i class="bi @(Model.IsLikedByCurrentUser ? "bi-heart-fill" : "bi-heart")"></i>
                    <span class="vote-count">@Model.VoteCount</span>
                </button>
                <button type="button" class="action-btn save-btn"
                        data-bookmark-id="@Model.Id"
                        title="Save to category">
                    <i class="bi bi-bookmark"></i>
                </button>
            </div>
        </div>
    </article>
</div>
